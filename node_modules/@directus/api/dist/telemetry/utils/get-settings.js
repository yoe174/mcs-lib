import { toBoolean } from '@directus/utils';
export const getSettings = async (db) => {
    const settings = await db
        .select('project_id', 'mcp_enabled', 'mcp_allow_deletes', 'mcp_system_prompt_enabled', 'visual_editor_urls')
        .from('directus_settings')
        .first();
    return {
        project_id: settings.project_id,
        mcp_enabled: toBoolean(settings?.mcp_enabled),
        mcp_allow_deletes: toBoolean(settings?.mcp_allow_deletes),
        mcp_system_prompt_enabled: toBoolean(settings?.mcp_system_prompt_enabled),
        visual_editor_urls: settings.visual_editor_urls ? JSON.parse(settings.visual_editor_urls).length : 0,
    };
};
